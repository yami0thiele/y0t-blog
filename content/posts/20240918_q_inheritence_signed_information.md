+++
title = '問: 署名付き情報から導出できる事柄に対しての署名の継承'
date = 2024-09-19T22:08:09+09:00
tags = ["意味無し"]
categories = ["デジタル"]
draft = false
+++

## 問題

![署名付きの証明書から部分証明を作りたい](/posts/20240919_how_to_prove_gray.png)

何らかの機関から発行された、有効な証明書を持っているとします。その証明書には発行者の署名がつけられており、証明書を見た人間はそれが正当なものであることを確認できるとします。

さて、証明書全体にはあまりにも多くの個人情報が載っているので、相手がいま必要な情報だけをここから抽出して見せたいとしましょう。...例えば、お酒がほしいので、「20 歳以上である」ことだけを相手に通知したいという状況を考えます。

「ある命題が、証明書に記載されている事柄（と、世界を支配する諸法則）によって成立するならば「真」、成立しないならば「偽」、判定不可能であれば「不可」を、元の署名を継承する形で相手に通知できるでしょうか？」

1. 証明書発行者に直接問い合わせる（「私が 20 歳以上であることを証明してください」）というのは無しにします。
2. 証明書の所持者が自力で部分証明を作り出したいということです。

## 背景

[Trusted Web 「KYC/KYB に基づいたトラストのある取引」を促進する新しい仕組み（株式会社電通国際情報サービス）](https://trustedweb.go.jp/news/w4r7weubsw) を見ていて、証明者に悪意があれば証明者は申請者についての情報を集められてしまうように見えました。

申請者が直接、公的機関・民間機関から各機関が証明できる事項をもらってしまえば、証明者を追い出すことができそうに思うが、各機関がいちいちクエリに応答するというのは現実的ではないでしょう。そこで、せめて「全部証明」みたいなものを申請者に渡すところだけ用意してもらって、申請者がそれをよしなに加工できれば良いのでは？と思って出てきた問題。

## つらつら

暗号とかについてまったく詳しくないから、なんて調べればよいのかわからなかったのだけど、「述語証明 (Predicate Proof)」でしょうか。

「選択的開示 (Selective Disclosure)」については情報が色々出てくるのですが、こっちだと証明書の記載事項を「見せるか見せないか」のどちらかに倒してしまうので、「20 歳以上であること」だけを伝えたいのに対して「25 歳です」などと開示してしまうことは避けられないみたいなのですよね。(これはこれで今度追ってみたいと思います。 => SD-JWT)

一方で値の範囲証明 (>= 20 歳) というのは Bulletproofs を利用することでできるそう。

数学って何なんでしょうね...不思議...。

以上！
